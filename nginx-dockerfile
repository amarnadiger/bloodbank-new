FROM nginx

# Copy start script and make it executable
COPY ./start.sh /start.sh
RUN chmod +x /start.sh
COPY nginx.conf /etc/nginx/nginx.conf
# Copy proxy_params file
COPY ./proxy_params /etc/nginx/
# Copy site configuration file

# Create symbolic link
RUN ln -s /etc/nginx/sites-available/nginx.conf /etc/nginx/sites-enabled/nginx.conf

RUN nginx -t 

# Set the entry point to start the start.sh script
ENTRYPOINT [ "sh", "-c", "/start.sh" ]
